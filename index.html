<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link href="data:text/css;charset=utf-8,body%20%7B%0Afont%2Dfamily%3A%20Helvetica%2C%20arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%2010px%3B%0Abackground%2Dcolor%3A%20white%3B%0Apadding%3A%2030px%3B%20%7D%0Abody%20%3E%20%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%20%7D%0Abody%20%3E%20%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%20%7D%0Aa%20%7B%0Acolor%3A%20%234183C4%3B%20%7D%0Aa%2Eabsent%20%7B%0Acolor%3A%20%23cc0000%3B%20%7D%0Aa%2Eanchor%20%7B%0Adisplay%3A%20block%3B%0Apadding%2Dleft%3A%2030px%3B%0Amargin%2Dleft%3A%20%2D30px%3B%0Acursor%3A%20pointer%3B%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Abottom%3A%200%3B%20%7D%0Ah1%2C%20h2%2C%20h3%2C%20h4%2C%20h5%2C%20h6%20%7B%0Amargin%3A%2020px%200%2010px%3B%0Apadding%3A%200%3B%0Afont%2Dweight%3A%20bold%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0Acursor%3A%20text%3B%0Aposition%3A%20relative%3B%20%7D%0Ah1%3Ahover%20a%2Eanchor%2C%20h2%3Ahover%20a%2Eanchor%2C%20h3%3Ahover%20a%2Eanchor%2C%20h4%3Ahover%20a%2Eanchor%2C%20h5%3Ahover%20a%2Eanchor%2C%20h6%3Ahover%20a%2Eanchor%20%7B%0Abackground%3A%20url%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8%2F9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw%2FeHBhY2tldCBiZWdpbj0i77u%2FIiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8%2BIDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI%2FPsQhXeAAAABfSURBVHjaYvz%2F%2Fz8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg%3D%3D%29%20no%2Drepeat%2010px%20center%3B%0Atext%2Ddecoration%3A%20none%3B%20%7D%0Ah1%20tt%2C%20h1%20code%20%7B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah2%20tt%2C%20h2%20code%20%7B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah3%20tt%2C%20h3%20code%20%7B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah4%20tt%2C%20h4%20code%20%7B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah5%20tt%2C%20h5%20code%20%7B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah6%20tt%2C%20h6%20code%20%7B%0Afont%2Dsize%3A%20inherit%3B%20%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2028px%3B%0Acolor%3A%20black%3B%20%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2024px%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23cccccc%3B%0Acolor%3A%20black%3B%20%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2018px%3B%20%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2016px%3B%20%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2014px%3B%20%7D%0Ah6%20%7B%0Acolor%3A%20%23777777%3B%0Afont%2Dsize%3A%2014px%3B%20%7D%0Ap%2C%20blockquote%2C%20ul%2C%20ol%2C%20dl%2C%20li%2C%20table%2C%20pre%20%7B%0Amargin%3A%2015px%200%3B%20%7D%0Ahr%20%7B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw%2FeHBhY2tldCBiZWdpbj0i77u%2FIiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8%2BIDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI%2FPqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC%29%20repeat%2Dx%200%200%3B%0Aborder%3A%200%20none%3B%0Acolor%3A%20%23cccccc%3B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0A%7D%0Abody%20%3E%20h2%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Abody%20%3E%20h1%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Abody%20%3E%20h1%3Afirst%2Dchild%20%2B%20h2%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Abody%20%3E%20h3%3Afirst%2Dchild%2C%20body%20%3E%20h4%3Afirst%2Dchild%2C%20body%20%3E%20h5%3Afirst%2Dchild%2C%20body%20%3E%20h6%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Aa%3Afirst%2Dchild%20h1%2C%20a%3Afirst%2Dchild%20h2%2C%20a%3Afirst%2Dchild%20h3%2C%20a%3Afirst%2Dchild%20h4%2C%20a%3Afirst%2Dchild%20h5%2C%20a%3Afirst%2Dchild%20h6%20%7B%0Amargin%2Dtop%3A%200%3B%0Apadding%2Dtop%3A%200%3B%20%7D%0Ah1%20p%2C%20h2%20p%2C%20h3%20p%2C%20h4%20p%2C%20h5%20p%2C%20h6%20p%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Ali%20p%2Efirst%20%7B%0Adisplay%3A%20inline%2Dblock%3B%20%7D%0Ali%20%7B%0Amargin%3A%200%3B%20%7D%0Aul%2C%20ol%20%7B%0Apadding%2Dleft%3A%2030px%3B%20%7D%0Aul%20%3Afirst%2Dchild%2C%20ol%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Adl%20%7B%0Apadding%3A%200%3B%20%7D%0Adl%20dt%20%7B%0Afont%2Dsize%3A%2014px%3B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dstyle%3A%20italic%3B%0Apadding%3A%200%3B%0Amargin%3A%2015px%200%205px%3B%20%7D%0Adl%20dt%3Afirst%2Dchild%20%7B%0Apadding%3A%200%3B%20%7D%0Adl%20dt%20%3E%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Adl%20dt%20%3E%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Adl%20dd%20%7B%0Amargin%3A%200%200%2015px%3B%0Apadding%3A%200%2015px%3B%20%7D%0Adl%20dd%20%3E%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Adl%20dd%20%3E%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Ablockquote%20%7B%0Aborder%2Dleft%3A%204px%20solid%20%23dddddd%3B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777777%3B%20%7D%0Ablockquote%20%3E%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Ablockquote%20%3E%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Atable%20%7B%0Apadding%3A%200%3Bborder%2Dcollapse%3A%20collapse%3B%20%7D%0Atable%20tr%20%7B%0Aborder%2Dtop%3A%201px%20solid%20%23cccccc%3B%0Abackground%2Dcolor%3A%20white%3B%0Amargin%3A%200%3B%0Apadding%3A%200%3B%20%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%20%7D%0Atable%20tr%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0Aborder%3A%201px%20solid%20%23cccccc%3B%0Amargin%3A%200%3B%0Apadding%3A%206px%2013px%3B%20%7D%0Atable%20tr%20td%20%7B%0Aborder%3A%201px%20solid%20%23cccccc%3B%0Amargin%3A%200%3B%0Apadding%3A%206px%2013px%3B%20%7D%0Atable%20tr%20th%20%3Afirst%2Dchild%2C%20table%20tr%20td%20%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%20%7D%0Atable%20tr%20th%20%3Alast%2Dchild%2C%20table%20tr%20td%20%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%20%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%20%7D%0Aspan%2Eframe%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%20%7D%0Aspan%2Eframe%20%3E%20span%20%7B%0Aborder%3A%201px%20solid%20%23dddddd%3B%0Adisplay%3A%20block%3B%0Afloat%3A%20left%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%200%200%3B%0Apadding%3A%207px%3B%0Awidth%3A%20auto%3B%20%7D%0Aspan%2Eframe%20span%20img%20%7B%0Adisplay%3A%20block%3B%0Afloat%3A%20left%3B%20%7D%0Aspan%2Eframe%20span%20span%20%7B%0Aclear%3A%20both%3B%0Acolor%3A%20%23333333%3B%0Adisplay%3A%20block%3B%0Apadding%3A%205px%200%200%3B%20%7D%0Aspan%2Ealign%2Dcenter%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Aclear%3A%20both%3B%20%7D%0Aspan%2Ealign%2Dcenter%20%3E%20span%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%20auto%200%3B%0Atext%2Dalign%3A%20center%3B%20%7D%0Aspan%2Ealign%2Dcenter%20span%20img%20%7B%0Amargin%3A%200%20auto%3B%0Atext%2Dalign%3A%20center%3B%20%7D%0Aspan%2Ealign%2Dright%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Aclear%3A%20both%3B%20%7D%0Aspan%2Ealign%2Dright%20%3E%20span%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%200%200%3B%0Atext%2Dalign%3A%20right%3B%20%7D%0Aspan%2Ealign%2Dright%20span%20img%20%7B%0Amargin%3A%200%3B%0Atext%2Dalign%3A%20right%3B%20%7D%0Aspan%2Efloat%2Dleft%20%7B%0Adisplay%3A%20block%3B%0Amargin%2Dright%3A%2013px%3B%0Aoverflow%3A%20hidden%3B%0Afloat%3A%20left%3B%20%7D%0Aspan%2Efloat%2Dleft%20span%20%7B%0Amargin%3A%2013px%200%200%3B%20%7D%0Aspan%2Efloat%2Dright%20%7B%0Adisplay%3A%20block%3B%0Amargin%2Dleft%3A%2013px%3B%0Aoverflow%3A%20hidden%3B%0Afloat%3A%20right%3B%20%7D%0Aspan%2Efloat%2Dright%20%3E%20span%20%7B%0Adisplay%3A%20block%3B%0Aoverflow%3A%20hidden%3B%0Amargin%3A%2013px%20auto%200%3B%0Atext%2Dalign%3A%20right%3B%20%7D%0Acode%2C%20tt%20%7B%0Amargin%3A%200%202px%3B%0Apadding%3A%200%205px%3B%0Awhite%2Dspace%3A%20nowrap%3B%0Aborder%3A%201px%20solid%20%23eaeaea%3B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0Aborder%2Dradius%3A%203px%3B%20%7D%0Apre%20code%20%7B%0Amargin%3A%200%3B%0Apadding%3A%200%3B%0Awhite%2Dspace%3A%20pre%3B%0Aborder%3A%20none%3B%0Abackground%3A%20transparent%3B%20%7D%0A%2Ehighlight%20pre%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0Aborder%3A%201px%20solid%20%23cccccc%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%2019px%3B%0Aoverflow%3A%20auto%3B%0Apadding%3A%206px%2010px%3B%0Aborder%2Dradius%3A%203px%3B%20%7D%0Apre%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0Aborder%3A%201px%20solid%20%23cccccc%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%2019px%3B%0Aoverflow%3A%20auto%3B%0Apadding%3A%206px%2010px%3B%0Aborder%2Dradius%3A%203px%3B%20%7D%0Apre%20code%2C%20pre%20tt%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%20none%3B%20%7D%0Asup%20%7B%0Afont%2Dsize%3A%200%2E83em%3B%0Avertical%2Dalign%3A%20super%3B%0Aline%2Dheight%3A%200%3B%0A%7D%0A%2A%20%7B%0A%2Dwebkit%2Dprint%2Dcolor%2Dadjust%3A%20exact%3B%0A%7D%0A%40media%20screen%20and%20%28min%2Dwidth%3A%20914px%29%20%7B%0Abody%20%7B%0Awidth%3A%20854px%3B%0Amargin%3A0%20auto%3B%0A%7D%0A%7D%0A%40media%20print%20%7B%0Atable%2C%20pre%20%7B%0Apage%2Dbreak%2Dinside%3A%20avoid%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0A%7D" rel="stylesheet" type="text/css" />
</head>
<body>
<h1 id="lorablink-kit">LoRaBlink Kit</h1>
<p>This kit contains a HAL, runtime, radio drivers and example code to program a LoRa (Semtech SX1272/SX1276) based sensor node. The framework is derived from <a href="http://www.research.ibm.com/labs/zurich/ics/lrsc/lmic.html">IBM LMiC</a>. Some of the changes from LMiC are the removal of LoRaWAN, providing direct access to the radio, supporting node-to-node communication, enabling CRC checks and exposing RSSI and SNR register values for received packets. LoRaBlink, a simple TDMA-style tree collection protocol, is build on top of this.</p>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#publications">Related Publications</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#platforms">Platforms</a></li>
<li><a href="#getting-started">Getting Started</a>
<ul>
<li><a href="#toolchain">Toolchain</a></li>
<li><a href="#flashing">Flashing</a></li>
<li><a href="#output">Output</a></li>
</ul></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#copyright">License and Copyright</a></li>
<li><a href="#contact">Contact</a></li>
</ul>
<h2 id="related-publications"><a name="publications"></a>Related Publications</h2>
<p><strong><a href="http://www.research.lancs.ac.uk/portal/en/publications/lora-for-the-internet-of-things(784a95ad-a788-4277-b124-3d97a9af869a).html">LoRa for the Internet of Things</a></strong>, <em>Martin Bor, John Vidler, and Utz Roedig</em>, MadCom 2016.</p>
<h2 id="download"><a name="download"></a>Download</h2>
<p><a href="lorablink-kit-20151214.tgz">Download LoRaBlink</a> (968 kB, last updated 14 December 2015)</p>
<h2 id="platforms"><a name="platforms"></a>Platforms</h2>
<p>LoRaBlink is tested on the <a href="http://netblocks.eu">NetBlocks XRange SX1272 LoRa RF module</a>. The original LMiC support for the Semtech SX1276MB1 and IMST/WiMod LoRa Radio Starter kit is still available, but hasn’t been tested. Any other platform that has a STM32L151 and Semtech SX1272/SX1276 should also work, though you may need to change some pin definitions. For any other platform, have a look at <code>stm32/</code> to see how to implement a HAL layer for your platform.</p>
<h2 id="getting-started"><a name="getting-started"></a>Getting Started</h2>
<h3 id="toolchain"><a name="toolchain"></a>Toolchain</h3>
<p>For compiling the code, all you need is the standard <a href="https://launchpad.net/gcc-arm-embedded">gcc-arm-embedded</a>, with corresponding binutils and newlib. Either downloaded or install the package appropriate for your operating system, or use the package manager of your favourite distro, e.g.:</p>
<ul>
<li>Arch Linux: <code>pacman -S arm-none-eabi-binutils arm-none-eabi-gcc arm-none-eabi-newlib</code></li>
<li>Debian/Ubuntu: <code>apt-get install gcc-arm-none-eabi libnewlib-arm-none-eabi binutils-arm-none-eabi</code></li>
</ul>
<p>For flashing, you need to install either dfu-util, openocd or stlink, e.g.:</p>
<ul>
<li>dfu-util:
<ul>
<li>Arch Linux: <code>pacman -S dfu-util</code></li>
<li>Debian/Ubuntu: <code>apt-get install dfu-util</code></li>
</ul></li>
<li>openocd:
<ul>
<li>Arch Linux: <code>pacman -S openocd</code></li>
<li>Debian/Ubuntu: <code>apt-get install openocd</code></li>
</ul></li>
<li>stlink:
<ul>
<li>Arch Linux: <code>pacman -S stlink</code></li>
<li>Debian/Ubuntu: no package exists, but stlink can be <a href="https://github.com/texane/stlink">build from source</a>.</li>
</ul></li>
</ul>
<h3 id="flashing"><a name="flashing"></a>Flashing</h3>
<p>Flashing the XRange can be done in 3 different ways.</p>
<h4 id="dfu-mode">DFU mode</h4>
<p>The STM32 has a built-in bootloader that shows up as an USB DFU device. To start the node in DFU mode, set BOOT0 high (for example connect a jumper wire from BOOT0 to Vout 3V) and plug in the node. The node should show up as a DFU device:</p>
<pre><code>$ dfu-util -l
dfu-util 0.8

Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.
Copyright 2010-2014 Tormod Volden and Stefan Schmidt
This program is Free Software and has ABSOLUTELY NO WARRANTY
Please report bugs to dfu-util@lists.gnumonks.org

Found DFU: [0483:df11] ver=2200, devnum=8, cfg=1, intf=0, alt=2, name=&quot;@DATA Memory /0x08080000/02*004Ke&quot;, serial=&quot;64A18F335E5A&quot;
Found DFU: [0483:df11] ver=2200, devnum=8, cfg=1, intf=0, alt=1, name=&quot;@Option Bytes  /0x1FF80000/01*032 e&quot;, serial=&quot;64A18F335E5A&quot;
Found DFU: [0483:df11] ver=2200, devnum=8, cfg=1, intf=0, alt=0, name=&quot;@Internal Flash  /0x08000000/1024*256 g&quot;, serial=&quot;64A18F335E5A&quot;</code></pre>
<p>Then, to flash the code run:</p>
<pre><code>$ make flash-dfu</code></pre>
<h4 id="jtagswdio">JTAG/SWDIO</h4>
<p>To flash the XRange via SWDIO, connect a <a href="http://www.st.com/web/catalog/tools/FM146/CL1984/SC724/SS1677/PF251168">ST/LINK-V2</a> to the SWD port on the XRange via an ARM-JTAG-20-10 adapter. Flashing can be done either with stlink or OpenOCD.</p>
<pre><code>$ make flash-stlink</code></pre>
<p>Or with OpenOCD:</p>
<pre><code>$ make flash-ocd</code></pre>
<p>Note that when flashing with OpenOCD, the node needs to be power cycled (unplugged and replugged) to work.</p>
<h3 id="output"><a name="output"></a>Output</h3>
<p>On the XRange, a debug LED should be connected to PC8/MCO. Serial debug output defaults to UART1 (PC6/PC7). Connect a Serial-to-USB convert (TTL) to these pins and configure a terminal for 115200 8-N-1.</p>
<h2 id="documentation"><a name="documentation"></a>Documentation</h2>
<p>Documentation of the HAL and runtime can be found in <code>doc/</code>.</p>
<h2 id="examples"><a name="examples"></a>Examples</h2>
<p>More examples can be found in <code>examples/</code>.</p>
<h3 id="hello-world">Hello world</h3>
<p>Toggles the debug led and prints out ‘Hello, world!’ every second.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="pp">#include </span><span class="im">&quot;enzo.h&quot;</span>
<span class="pp">#include </span><span class="im">&quot;debug.h&quot;</span>

<span class="co">// counter</span>
<span class="dt">static</span> u2_t counter = <span class="dv">0</span>;

<span class="co">// log text to USART and toggle LED</span>
<span class="dt">static</span> <span class="dt">void</span> initfunc (osjob_t* job) {
    <span class="co">// say hello</span>
    debug_str(<span class="st">&quot;Hello World!</span><span class="sc">\r\n</span><span class="st">&quot;</span>);
    <span class="co">// log counter</span>
    debug_val(<span class="st">&quot;counter = &quot;</span>, counter);
    <span class="co">// toggle LED</span>
    debug_led(++counter &amp; <span class="dv">1</span>);
    <span class="co">// reschedule job every second</span>
    os_setTimedCallback(job, os_getTime()+sec2osticks(<span class="dv">1</span>), initfunc);
}

<span class="co">// application entry point</span>
<span class="dt">int</span> main () {
    osjob_t initjob;

    <span class="co">// initialize runtime env</span>
    os_init();
    <span class="co">// initialize debug library</span>
    debug_init();
    <span class="co">// setup initial job</span>
    os_setCallback(&amp;initjob, initfunc);
    <span class="co">// execute scheduled jobs and events</span>
    os_runloop();
    <span class="co">// (not reached)</span>
    <span class="cf">return</span> <span class="dv">0</span>;
}</code></pre></div>
<h3 id="lorablink-hello-world">LoRaBlink Hello World</h3>
<p>Program one node as node 0, which will act as a root node. Program another as node 1. The node 1 will send a ‘ping’ messages every minutes once it gets sync.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="pp">#include </span><span class="im">&quot;enzo.h&quot;</span>
<span class="pp">#include </span><span class="im">&quot;debug.h&quot;</span>
<span class="pp">#include </span><span class="im">&quot;blink.h&quot;</span>

<span class="pp">#define NODEID 1</span>

<span class="co">// fwd decl</span>
<span class="dt">static</span> <span class="dt">void</span> ping(osjob_t *job);
<span class="dt">static</span> <span class="dt">void</span> initfunc(osjob_t *job);

<span class="dt">static</span> u1_t counter;
<span class="dt">static</span> osjob_t pingjob;

<span class="dt">void</span> on_event(event_t ev) {
  <span class="cf">switch</span>(ev) {
    <span class="cf">case</span> EVENT_SYNC:
      debug_str(<span class="st">&quot;got sync</span><span class="sc">\r\n</span><span class="st">&quot;</span>);
      os_setCallback(&amp;pingjob, FUNC_ADDR(ping));
      <span class="cf">break</span>;
    <span class="cf">case</span> EVENT_LOST_SYNC:
      debug_str(<span class="st">&quot;lost sync</span><span class="sc">\r\n</span><span class="st">&quot;</span>);
      os_clearCallback(&amp;pingjob);
      <span class="cf">break</span>;
    <span class="cf">case</span> EVENT_RXCOMPLETE:
      debug_str(<span class="st">&quot;rx complete</span><span class="sc">\r\n</span><span class="st">&quot;</span>);
      u1_t payload[MAX_LEN_PAYLOAD];
      blink_rx(payload, MAX_LEN_PAYLOAD);
      debug_buf(payload, MAX_LEN_PAYLOAD);
      <span class="cf">break</span>;
    <span class="cf">case</span> EVENT_TXCOMPLETE:
      debug_str(<span class="st">&quot;tx complete</span><span class="sc">\r\n</span><span class="st">&quot;</span>);
      <span class="cf">break</span>;
    <span class="cf">default</span>:
      <span class="co">// nop</span>
      <span class="cf">break</span>;
  }
}


<span class="dt">static</span> <span class="dt">void</span> ping(osjob_t *job) {
  debug_val(<span class="st">&quot;ping &quot;</span>, counter);
  u1_t payload[<span class="dv">6</span>] =  {<span class="ch">'P'</span>, <span class="ch">'i'</span>, <span class="ch">'n'</span>, <span class="ch">'g'</span>, <span class="ch">' '</span>, counter++};
  blink_tx(payload, SIZEOFEXPR(payload));
  os_setTimedCallback(job, os_getTime() + sec2osticks(<span class="dv">5</span>), FUNC_ADDR(ping));
}

<span class="dt">static</span> <span class="dt">void</span> initfunc(osjob_t* job) {
  BLINK.nodeid = NODEID;
  blink_reset();
  blink_start_sync();
}

<span class="dt">int</span> main(<span class="dt">void</span>) {

  osjob_t initjob;

  <span class="co">// init runtime</span>
  os_init();
  <span class="co">// init debug lib</span>
  debug_init();
  <span class="co">// init blink</span>
  blink_init();
  <span class="co">// setup initial job</span>
  os_setCallback(&amp;initjob, initfunc);
  <span class="co">// execute scheduled jobs and events</span>
  os_runloop();
  <span class="co">// (not reached)</span>
  <span class="cf">return</span> <span class="dv">0</span>;
}</code></pre></div>
<h2 id="license-copyright"><a name="license"></a>License &amp; Copyright</h2>
<p>LMiC - Copyright (c) 2014-2015 IBM Corporation. LMiC is published under the terms of the Eclipse Public License v1.0, which is available at <a href="http://www.eclipse.org/legal/epl-v10.html" class="uri">http://www.eclipse.org/legal/epl-v10.html</a></p>
<p>LoraBlink Kit - Copyright (c) 2015 Lancaster University. As derivative works of LMiC, LoraBlink Kit is also published under the Eclipse Public License v1.0, which is available at <a href="http://www.eclipse.org/legal/epl-v10.html" class="uri">http://www.eclipse.org/legal/epl-v10.html</a></p>
<h2 id="contact"><a name="contact"></a>Contact</h2>
<p>Martin Bor <a href="mailto:m.bor@lancaster.ac.uk">m.bor@lancaster.ac.uk</a></p>
</body>
</html>
